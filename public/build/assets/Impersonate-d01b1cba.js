import{M as q,_ as H}from"./MainNav-68fa6238.js";import{w as K,r as y,d as N,c as w,p as Q,o as A,a as X,n as k,i as Y,b as M,e as D,f as I,g as j,h as _,j as S,u as P,t as T,F as U,k as J,l as Z,m as G,T as ee,q as z,s as te}from"./app-f244ae7d.js";import{m as ae,y as ne,S as le,h as re,o as g,c as oe,u as se,l as O,P as E,t as F,p as ue,R as B,a as m,D as ie,N as L,g as W,I as ce}from"./use-outside-click-7e8fc182.js";import{b as de}from"./use-resolve-button-type-eb4bc1a2.js";/* empty css            */function ve(e){throw new Error("Unexpected object: "+e)}var x=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(x||{});function pe(e,r){let o=r.resolveItems();if(o.length<=0)return null;let p=r.resolveActiveIndex(),t=p??-1,s=(()=>{switch(e.focus){case 0:return o.findIndex(l=>!r.resolveDisabled(l));case 1:{let l=o.slice().reverse().findIndex((f,d,c)=>t!==-1&&c.length-d-1>=t?!1:!r.resolveDisabled(f));return l===-1?l:o.length-1-l}case 2:return o.findIndex((l,f)=>f<=t?!1:!r.resolveDisabled(l));case 3:{let l=o.slice().reverse().findIndex(f=>!r.resolveDisabled(f));return l===-1?l:o.length-1-l}case 4:return o.findIndex(l=>r.resolveId(l)===e.id);case 5:return null;default:ve(e)}})();return s===-1?p:s}function fe({container:e,accept:r,walk:o,enabled:p}){K(()=>{let t=e.value;if(!t||p!==void 0&&!p.value)return;let s=ae(e);if(!s)return;let l=Object.assign(d=>r(d),{acceptNode:r}),f=s.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,l,!1);for(;f.nextNode();)o(f.currentNode)})}function V(e){return[e.screenX,e.screenY]}function me(){let e=y([-1,-1]);return{wasMoved(r){let o=V(r);return e.value[0]===o[0]&&e.value[1]===o[1]?!1:(e.value=o,!0)},update(r){e.value=V(r)}}}var ge=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ge||{}),be=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(be||{});function he(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let $=Symbol("MenuContext");function C(e){let r=Y($,null);if(r===null){let o=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,C),o}return r}let xe=N({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:r,attrs:o}){let p=y(1),t=y(null),s=y(null),l=y([]),f=y(""),d=y(null),c=y(1);function a(u=v=>v){let v=d.value!==null?l.value[d.value]:null,n=ce(u(l.value.slice()),h=>g(h.dataRef.domRef)),i=v?n.indexOf(v):null;return i===-1&&(i=null),{items:n,activeItemIndex:i}}let b={menuState:p,buttonRef:t,itemsRef:s,items:l,searchQuery:f,activeItemIndex:d,activationTrigger:c,closeMenu:()=>{p.value=1,d.value=null},openMenu:()=>p.value=0,goToItem(u,v,n){let i=a(),h=pe(u===x.Specific?{focus:x.Specific,id:v}:{focus:u},{resolveItems:()=>i.items,resolveActiveIndex:()=>i.activeItemIndex,resolveId:R=>R.id,resolveDisabled:R=>R.dataRef.disabled});f.value="",d.value=h,c.value=n??1,l.value=i.items},search(u){let v=f.value!==""?0:1;f.value+=u.toLowerCase();let n=(d.value!==null?l.value.slice(d.value+v).concat(l.value.slice(0,d.value+v)):l.value).find(h=>h.dataRef.textValue.startsWith(f.value)&&!h.dataRef.disabled),i=n?l.value.indexOf(n):-1;i===-1||i===d.value||(d.value=i,c.value=1)},clearSearch(){f.value=""},registerItem(u,v){let n=a(i=>[...i,{id:u,dataRef:v}]);l.value=n.items,d.value=n.activeItemIndex,c.value=1},unregisterItem(u){let v=a(n=>{let i=n.findIndex(h=>h.id===u);return i!==-1&&n.splice(i,1),n});l.value=v.items,d.value=v.activeItemIndex,c.value=1}};return ne([t,s],(u,v)=>{var n;b.closeMenu(),le(v,re.Loose)||(u.preventDefault(),(n=g(t))==null||n.focus())},w(()=>p.value===0)),Q($,b),oe(w(()=>se(p.value,{[0]:O.Open,[1]:O.Closed}))),()=>{let u={open:p.value===0,close:b.closeMenu};return E({ourProps:{},theirProps:e,slot:u,slots:r,attrs:o,name:"Menu"})}}}),Ie=N({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-menu-button-${F()}`}},setup(e,{attrs:r,slots:o,expose:p}){let t=C("MenuButton");p({el:t.buttonRef,$el:t.buttonRef});function s(c){switch(c.key){case m.Space:case m.Enter:case m.ArrowDown:c.preventDefault(),c.stopPropagation(),t.openMenu(),k(()=>{var a;(a=g(t.itemsRef))==null||a.focus({preventScroll:!0}),t.goToItem(x.First)});break;case m.ArrowUp:c.preventDefault(),c.stopPropagation(),t.openMenu(),k(()=>{var a;(a=g(t.itemsRef))==null||a.focus({preventScroll:!0}),t.goToItem(x.Last)});break}}function l(c){switch(c.key){case m.Space:c.preventDefault();break}}function f(c){e.disabled||(t.menuState.value===0?(t.closeMenu(),k(()=>{var a;return(a=g(t.buttonRef))==null?void 0:a.focus({preventScroll:!0})})):(c.preventDefault(),t.openMenu(),he(()=>{var a;return(a=g(t.itemsRef))==null?void 0:a.focus({preventScroll:!0})})))}let d=de(w(()=>({as:e.as,type:r.type})),t.buttonRef);return()=>{var c;let a={open:t.menuState.value===0},{id:b,...u}=e,v={ref:t.buttonRef,id:b,type:d.value,"aria-haspopup":"menu","aria-controls":(c=g(t.itemsRef))==null?void 0:c.id,"aria-expanded":e.disabled?void 0:t.menuState.value===0,onKeydown:s,onKeyup:l,onClick:f};return E({ourProps:v,theirProps:u,slot:a,attrs:r,slots:o,name:"MenuButton"})}}}),ye=N({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-menu-items-${F()}`}},setup(e,{attrs:r,slots:o,expose:p}){let t=C("MenuItems"),s=y(null);p({el:t.itemsRef,$el:t.itemsRef}),fe({container:w(()=>g(t.itemsRef)),enabled:w(()=>t.menuState.value===0),accept(a){return a.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:a.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(a){a.setAttribute("role","none")}});function l(a){var b;switch(s.value&&clearTimeout(s.value),a.key){case m.Space:if(t.searchQuery.value!=="")return a.preventDefault(),a.stopPropagation(),t.search(a.key);case m.Enter:if(a.preventDefault(),a.stopPropagation(),t.activeItemIndex.value!==null){let u=t.items.value[t.activeItemIndex.value];(b=g(u.dataRef.domRef))==null||b.click()}t.closeMenu(),W(g(t.buttonRef));break;case m.ArrowDown:return a.preventDefault(),a.stopPropagation(),t.goToItem(x.Next);case m.ArrowUp:return a.preventDefault(),a.stopPropagation(),t.goToItem(x.Previous);case m.Home:case m.PageUp:return a.preventDefault(),a.stopPropagation(),t.goToItem(x.First);case m.End:case m.PageDown:return a.preventDefault(),a.stopPropagation(),t.goToItem(x.Last);case m.Escape:a.preventDefault(),a.stopPropagation(),t.closeMenu(),k(()=>{var u;return(u=g(t.buttonRef))==null?void 0:u.focus({preventScroll:!0})});break;case m.Tab:a.preventDefault(),a.stopPropagation(),t.closeMenu(),k(()=>ie(g(t.buttonRef),a.shiftKey?L.Previous:L.Next));break;default:a.key.length===1&&(t.search(a.key),s.value=setTimeout(()=>t.clearSearch(),350));break}}function f(a){switch(a.key){case m.Space:a.preventDefault();break}}let d=ue(),c=w(()=>d!==null?d.value===O.Open:t.menuState.value===0);return()=>{var a,b;let u={open:t.menuState.value===0},{id:v,...n}=e,i={"aria-activedescendant":t.activeItemIndex.value===null||(a=t.items.value[t.activeItemIndex.value])==null?void 0:a.id,"aria-labelledby":(b=g(t.buttonRef))==null?void 0:b.id,id:v,onKeydown:l,onKeyup:f,role:"menu",tabIndex:0,ref:t.itemsRef};return E({ourProps:i,theirProps:n,slot:u,attrs:r,slots:o,features:B.RenderStrategy|B.Static,visible:c.value,name:"MenuItems"})}}}),_e=N({name:"MenuItem",props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-menu-item-${F()}`}},setup(e,{slots:r,attrs:o,expose:p}){let t=C("MenuItem"),s=y(null);p({el:s,$el:s});let l=w(()=>t.activeItemIndex.value!==null?t.items.value[t.activeItemIndex.value].id===e.id:!1),f=w(()=>({disabled:e.disabled,textValue:"",domRef:s}));A(()=>{var n,i;let h=(i=(n=g(s))==null?void 0:n.textContent)==null?void 0:i.toLowerCase().trim();h!==void 0&&(f.value.textValue=h)}),A(()=>t.registerItem(e.id,f)),X(()=>t.unregisterItem(e.id)),K(()=>{t.menuState.value===0&&(!l.value||t.activationTrigger.value!==0&&k(()=>{var n,i;return(i=(n=g(s))==null?void 0:n.scrollIntoView)==null?void 0:i.call(n,{block:"nearest"})}))});function d(n){if(e.disabled)return n.preventDefault();t.closeMenu(),W(g(t.buttonRef))}function c(){if(e.disabled)return t.goToItem(x.Nothing);t.goToItem(x.Specific,e.id)}let a=me();function b(n){a.update(n)}function u(n){!a.wasMoved(n)||e.disabled||l.value||t.goToItem(x.Specific,e.id,0)}function v(n){!a.wasMoved(n)||e.disabled||!l.value||t.goToItem(x.Nothing)}return()=>{let{disabled:n}=e,i={active:l.value,disabled:n,close:t.closeMenu},{id:h,...R}=e;return E({ourProps:{id:h,ref:s,role:"menuitem",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,onClick:d,onFocus:c,onPointerenter:b,onMouseenter:b,onPointermove:u,onMousemove:u,onPointerleave:v,onMouseleave:v},theirProps:R,slot:i,attrs:o,slots:r,name:"MenuItem"})}}});function we(e,r){return M(),D("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[I("path",{"fill-rule":"evenodd",d:"M10 2a6 6 0 00-6 6c0 1.887-.454 3.665-1.257 5.234a.75.75 0 00.515 1.076 32.91 32.91 0 003.256.508 3.5 3.5 0 006.972 0 32.903 32.903 0 003.256-.508.75.75 0 00.515-1.076A11.448 11.448 0 0116 8a6 6 0 00-6-6zM8.05 14.943a33.54 33.54 0 003.9 0 2 2 0 01-3.9 0z","clip-rule":"evenodd"})])}const Me=I("span",{class:"sr-only"},"Open user menu",-1),Se={class:"inline-flex items-center justify-center px-1 py-1 mr-2 text-xs font-bold leading-none text-red-100 bg-red-600 rounded-full"},ke={key:0},Re={class:"text-xs text-white bg-green-800 inline-block rounded px-2 py-0.5"},Pe=z(),Te={class:"text-xs"},De=I("br",null,null,-1),Ne={href:"#"},Ee={key:1,class:"block px-4 py-2 text-sm text-gray-700"},Ce={name:"NotificationDropdown",props:{user:Object},setup(e){const r=e;function o(p){te.Inertia.post(route("impersonate.read",{user:r.user.id,notification:p.pivot.id}))}return(p,t)=>(M(),j(P(xe),{as:"div",class:"relative ml-3"},{default:_(()=>[I("div",null,[S(P(Ie),{class:"flex"},{default:_(()=>[Me,S(P(we),{class:"h-6 w-6","aria-hidden":"true"}),I("span",Se,T(e.user.show_notification?e.user.active_notification_count:0),1)]),_:1})]),S(ee,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:_(()=>[S(P(ye),{class:"absolute right-0 z-10 mt-2 w-80 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:_(()=>[e.user.active_notifications.length>0&&e.user.show_notification?(M(),D("div",ke,[(M(!0),D(U,null,J(e.user.active_notifications,s=>(M(),j(P(_e),{onClick:Z(l=>o(s),["prevent"])},{default:_(({active:l})=>[I("div",{class:G([l?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},[I("span",Re,T(s.type),1),Pe,I("span",Te,T(s.created_at_friendly),1),De,I("a",Ne,T(s.text),1)],2)]),_:2},1032,["onClick"]))),256))])):(M(),D("div",Ee," No notification "))]),_:1})]),_:1})]),_:1}))}},Oe=z("Hello"),Fe={class:"flex items-center justify-between"},Ae={class:"text-5xl font-bold py-3"},Ue={name:"Impersonate",props:{user:Object,errors:Object},setup(e){return(r,o)=>(M(),D(U,null,[S(q,{class:"bg-gray-300 px-10 py-6"},{right:_(()=>[S(Ce,{user:e.user},null,8,["user"])]),_:1}),S(H,null,{right_slot:_(()=>[Oe]),default:_(()=>[I("div",Fe,[I("h1",Ae,"Welcome, "+T(e.user.name)+"!",1)])]),_:1})],64))}};export{Ue as default};
